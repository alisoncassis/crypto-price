<!DOCTYPE html>
 
<html>
 
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="author" content="Juliano">
    <meta name="description" content="Website para cotação de criptomoedas">
    <title>Cotação de Criptomoedas</title>
    <style>
    .container {
        background-color: tomato;
        color: white;
        margin: 50px;
        padding: 50px;
    }
    main{
        padding:100px 2%;
        color: white;
    }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
 
</head>
 
<body>
    <div class="container">
        <header>
           <h1 style='font-size:60px;color:blue'>Cotações</h1>
        </header>
            <input type="checkbox" name="coins" id="BTC" value="BTC"> Bitcoin<br>
            <input type="checkbox" name="coins" id="LTC" value="LTC"> LTC<br>
            <input type="checkbox" name="coins" id="BCH" value="BCH"> BCH<br>
            <input type="checkbox" name="coins" id="XRP" value="XRP"> XRP<br>
            <input type="checkbox" name="coins" id="ETH" value="ETH"> ETH<br>
       
            <button id="search">Verificar cotação</button>
    </div>

    <script>
        $('#search').click(function(){ 
            getCoinsJson();
        })    
        function getCoinsJson(){
            var coins = ['BTC', 'LTC', 'ETH'];
            var filter = '';
             for (let x = 0; x < coins.length; x++) {
                const coin = coins[x];     
            filter += 'coins' + '[' + x + ']' + '=' + coin  + '&' ;      
            }
            
          $.ajax({
              method: 'GET',
              url: 'https://digital-coin-reports.netlify.com/.netlify/functions/daily-report?' + filter,
              dataType: 'json',
              success: onSucess,
              error: onError
           })
        }
        function onSucess(jsonReturn){
            alert($('coins').toArray());
        }
        function onError(){
            $('#main').html('I failed.');
        }
    </script>
     
</body>

</html>
        